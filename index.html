<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seleção de Monitoria</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        fieldset {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 25px;
            padding: 20px;
        }
        legend {
            font-size: 1.3em;
            font-weight: 600;
            color: #0056b3;
            padding: 0 10px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }
        input[type="text"],
        input[type="email"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box; /* Garante que o padding não afete a largura */
        }
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        .radio-group label {
            font-weight: normal;
            display: inline-block;
            margin-right: 15px;
        }
        .radio-group input[type="radio"] {
            margin-right: 5px;
        }
        
        /* Blocos de perguntas escondidos por padrão */
        .questions-block {
            display: none; 
            border-top: 2px dashed #0056b3;
            margin-top: 20px;
            padding-top: 20px;
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 6px;
        }
        .question p {
            font-weight: 600;
            margin-bottom: 10px;
        }
        .question label {
            font-weight: normal;
            display: block;
            margin-bottom: 5px;
        }
        
        /* Botão principal (Finalizar) */
        button[type="submit"] {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            font-weight: 600;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button[type="submit"]:hover {
            background-color: #0056b3;
        }

        /* --- MUDANÇA (CSS) ---
           Estilo para o novo botão "Siga em frente" 
        */
        #mostrar-questoes {
            width: auto;
            padding: 10px 20px;
            font-size: 0.9em;
            font-weight: 600;
            color: #fff;
            background-color: #28a745; /* Verde */
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
        }
        #mostrar-questoes:hover {
            background-color: #218838;
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>Ficha de Inscrição - Monitoria</h1>
        
        <form id="monitoria-form">

            <fieldset>
                <legend>Parte 1: Informações Gerais</legend>
                
                <div class="form-group">
                    <label for="nome">Nome Completo:</label>
                    <input type="text" id="nome" name="nome" required>
                </div>
                
                <div class="form-group">
                    <label for="matricula">Nº de Matrícula:</label>
                    <input type="text" id="matricula" name="matricula" required>
                </div>

                <div class="form-group">
                    <label for="disponibilidade">Disponibilidade de tempo para a monitoria (horas/semana):</label>
                    <select id="disponibilidade" name="disponibilidade">
                        <option value="4h">4 horas</option>
                        <option value="8h">8 horas</option>
                        <option value="12h">12 horas</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Está participando de outro projeto de ensino, pesquisa ou extensão?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="outro_projeto" value="Sim"> Sim</label>
                        <label><input type="radio" name="outro_projeto" value="Não" checked> Não</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Fez inscrição para outra monitoria de outra disciplina?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="outra_monitoria" value="Sim"> Sim</label>
                        <label><input type="radio" name="outra_monitoria" value="Não" checked> Não</label>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Parte 2: Motivação e Interesse</legend>

                <div class="form-group">
                    <label for="motivo">Por que você escolheu a nossa disciplina para a monitoria?</label>
                    <textarea id="motivo" name="motivo"></textarea>
                </div>

                <div class="form-group">
                    <label for="metodologia">Que tipo de metodologia usada pelo professor você acha mais interessante?</label>
                    <textarea id="metodologia" name="metodologia"></textarea>
                </div>

                <div class="form-group">
                    <label>Você sente que tem identidade com a disciplina e seus conteúdos?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="identidade" value="Sim"> Sim</label>
                        <label><input type="radio" name="identidade" value="Não"> Não</label>
                        <label><input type="radio" name="identidade" value="Parcialmente" checked> Parcialmente</label>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Parte 3: Prova de Conhecimento</legend>

                <div class="form-group">
                    <label for="disciplina-choice">1. Escolha a disciplina para a qual deseja concorrer:</label>
                    <select id="disciplina-choice" name="disciplina_escolhida">
                        <option value="">-- Selecione uma disciplina --</option>
                        <option value="histologia">Histologia</option>
                        <option value="microbiologia">Microbiologia</option>
                        <option value="farmacologia">Farmacologia</option>
                    </select>
                </div>

                <label>2. Após selecionar, clique aqui para carregar as perguntas:</label>
                <button type="button" id="mostrar-questoes">Carregar Perguntas</button>


                <div id="questoes-histologia" class="questions-block">
                    <h3>Questões de Histologia</h3>
                    
                    <div class="question">
                        <p>1. Quais são os quatro tipos básicos de tecidos do corpo humano?</p>
                        <label><input type="radio" name="h1" value="a"> A) Epitelial, Conjuntivo, Muscular e Nervoso</label>
                        <label><input type="radio" name="h1" value="b"> B) Ósseo, Sanguíneo, Linfático e Adiposo</label>
                        <label><input type="radio" name="h1" value="c"> C) Epiderme, Derme, Hipoderme e Fáscia</label>
                    </div>
                    <div class="question">
                        <p>2. A coloração de Hematoxilina e Eosina (HE) é amplamente utilizada. O que a Hematoxilina cora predominantemente?</p>
                        <label><input type="radio" name="h2" value="a"> A) O citoplasma (estruturas acidófilas) em rosa.</label>
                        <label><input type="radio" name="h2" value="b"> B) O núcleo (estruturas basófilas) em roxo/azul.</label>
                        <label><input type="radio" name="h2" value="c"> C) As fibras elásticas em preto.</label>
                    </div>
                    <div class="question">
                        <p>3. Qual tecido é caracterizado por células contráteis e é responsável pelo movimento?</p>
                        <label><input type="radio" name="h3" value="a"> A) Tecido Nervoso</label>
                        <label><input type="radio" name="h3" value="b"> B) Tecido Epitelial</label>
                        <label><input type="radio" name="h3" value="c"> C) Tecido Muscular</label>
                    </div>
                    <div class="question">
                        <p>4. O tecido conjuntivo é composto por células e uma abundante matriz extracelular. Qual é a principal proteína fibrilar dessa matriz?</p>
                        <label><input type="radio" name="h4" value="a"> A) Miosina</label>
                        <label><input type="radio" name="h4" value="b"> B) Colágeno</label>
                        <label><input type="radio" name="h4" value="c"> C) Queratina</label>
                    </div>
                    <div class="question">
                        <p>5. Que tipo de epitélio é especializado em absorção, como o encontrado no revestimento do intestino delgado?</p>
                        <label><input type="radio" name="h5" value="a"> A) Epitélio pavimentoso estratificado</label>
                        <label><input type="radio" name="h5" value="b"> B) Epitélio de transição</label>
                        <label><input type="radio" name="h5" value="c"> C) Epitélio simples colunar (prismático) com microvilosidades</label>
                    </div>
                    <div class="question">
                        <p>6. Qual célula é a unidade funcional básica do tecido nervoso?</p>
                        <label><input type="radio" name="h6" value="a"> A) Neurônio</label>
                        <label><input type="radio" name="h6" value="b"> B) Astrócito</label>
                        <label><input type="radio" name="h6" value="c"> C) Micróglia</label>
                    </div>
                    <div class="question">
                        <p>7. O tecido adiposo é um tipo especial de tecido conjuntivo focado em:</p>
                        <label><input type="radio" name="h7" value="a"> A) Armazenamento de lipídios e isolamento térmico.</label>
                        <label><input type="radio" name="h7" value="b"> B) Defesa e imunidade.</label>
                        <label><input type="radio" name="h7" value="c"> C) Sustentação estrutural (como ossos).</label>
                    </div>
                    <div class="question">
                        <p>8. Qual tipo de músculo é estriado e possui contração involuntária?</p>
                        <label><input type="radio" name="h8" value="a"> A) Músculo liso</label>
                        <label><input type="radio" name="h8" value="b"> B) Músculo estriado esquelético</label>
                        <label><input type="radio" name="h8" value="c"> C) Músculo estriado cardíaco</label>
                    </div>
                    <div class="question">
                        <p>9. A cartilagem hialina, o tipo mais comum, é encontrada em qual local?</p>
                        <label><input type="radio" name="h9" value="a"> A) No pavilhão auditivo (orelha)</label>
                        <label><input type="radio" name="h9" value="b"> B) Nas superfícies articulares dos ossos longos</label>
                        <label><input type="radio" name="h9" value="c"> C) Nos discos intervertebrais</label>
                    </div>
                    <div class="question">
                        <p>10. O que são glândulas exócrinas?</p>
                        <label><input type="radio" name="h10" value="a"> A) Glândulas que liberam seus produtos (hormônios) diretamente no sangue.</label>
                        <label><input type="radio" name="h10" value="b"> B) Glândulas que liberam seus produtos para uma superfície (interna ou externa) através de ductos.</label>
                        <label><input type="radio" name="h10" value="c"> C) Células que não produzem secreção.</label>
                    </div>
                </div>

                <div id="questoes-microbiologia" class="questions-block">
                    <h3>Questões de Microbiologia</h3>
                    <div class="question">
                        <p>1. A principal diferença entre células procarióticas (bactérias) e eucarióticas (fungos, protozoários) é:</p>
                        <label><input type="radio" name="m1" value="a"> A) A presença de ribossomos na eucariótica.</label>
                        <label><input type="radio" name="m1" value="b"> B) A ausência de um núcleo organizado (carioteca) na procariótica.</label>
                        <label><input type="radio" name="m1" value="c"> C) A presença de parede celular na procariótica.</label>
                    </div>
                    <div class="question">
                        <p>2. A coloração de Gram é um método fundamental para:</p>
                        <label><input type="radio" name="m2" value="a"> A) Diferenciar bactérias com base na composição de sua parede celular (Gram-positivas e Gram-negativas).</label>
                        <label><input type="radio" name="m2" value="b"> B) Identificar se a bactéria está viva ou morta.</label>
                        <label><input type="radio" name="m2" value="c"> C) Visualizar vírus no microscópio óptico.</label>
                    </div>
                    <div class="question">
                        <p>3. Após a coloração de Gram, bactérias Gram-positivas e Gram-negativas coram-se, respectivamente, de:</p>
                        <label><input type="radio" name="m3" value="a"> A) Rosa e Roxo</label>
                        <label><input type="radio" name="m3" value="b"> B) Roxo e Rosa (ou vermelho)</label>
                        <label><input type="radio" name="m3" value="c"> C) Amarelo e Verde</label>
                    </div>
                    <div class="question">
                        <p>4. O que são vírus?</p>
                        <label><input type="radio" name="m4" value="a"> A) Células procarióticas pequenas.</label>
                        <label><input type="radio" name="m4" value="b"> B) Células eucarióticas unicelulares.</label>
                        <label><input type="radio" name="m4" value="c"> C) Parasitas intracelulares obrigatórios, compostos de material genético (DNA ou RNA) e um capsídeo.</label>
                    </div>
                    <div class="question">
                        <p>5. O processo de "esterilização" visa:</p>
                        <label><input type="radio" name="m5" value="a"> A) Reduzir o número de microrganismos a um nível seguro.</label>
                        <label><input type="radio" name="m5" value="b"> B) Eliminar apenas bactérias patogênicas.</label>
                        <label><input type="radio" name="m5" value="c"> C) Destruir ou remover todas as formas de vida microbiana, incluindo esporos.</label>
                    </div>
                    <div class="question">
                        <p>6. Penicilina é um exemplo de qual tipo de medicamento?</p>
                        <label><input type="radio" name="m6" value="a"> A) Antifúngico</label>
                        <label><input type="radio" name="m6" value="b"> B) Antiviral</label>
                        <label><input type="radio" name="m6" value="c"> C) Antibiótico (beta-lactâmico)</label>
                    </div>
                    <div class="question">
                        <p>7. Bactérias com formato esférico são chamadas de:</p>
                        <label><input type="radio" name="m7" value="a"> A) Bacilos</label>
                        <label><input type="radio" name="m7" value="b"> B) Cocos</label>
                        <label><input type="radio" name="m7" value="c"> C) Espirilos</label>
                    </div>
                    <div class="question">
                        <p>8. O que é um "meio de cultura"?</p>
                        <label><input type="radio" name="m8" value="a"> A) Um ambiente com nutrientes preparado para o crescimento de microrganismos em laboratório.</label>
                        <label><input type="radio" name="m8" value="b"> B) O habitat natural de uma bactéria.</label>
                        <label><input type="radio" name="m8" value="c"> C) O microscópio usado para visualizar fungos.</label>
                    </div>
                    <div class="question">
                        <p>9. Fungos, como leveduras e bolores, são organismos:</p>
                        <label><input type="radio" name="m9" value="a"> A) Eucariotos</label>
                        <label><input type="radio" name="m9" value="b"> B) Procariotos</label>
                        <label><input type="radio" name="m9" value="c"> C) Acelulares (como vírus)</label>
                    </div>
                    <div class="question">
                        <p>10. O que é "flora microbiana normal" (ou microbiota)?</p>
                        <label><input type="radio" name="m10" value="a"> A) O conjunto de microrganismos que causam doenças.</label>
                        <label><input type="radio" name="m10" value="b"> B) O conjunto de microrganismos que habitam o corpo humano sem causar doença, podendo ser benéficos.</label>
                        <label><input type="radio" name="m10" value="c"> C) Apenas as bactérias encontradas no solo.</label>
                    </div>
                </div>

                <div id="questoes-farmacologia" class="questions-block">
                    <h3>Questões de Farmacologia</h3>
                    <div class="question">
                        <p>1. O que a Farmacocinética estuda?</p>
                        <label><input type="radio" name="f1" value="a"> A) O que o fármaco faz com o corpo (mecanismo de ação).</label>
                        <label><input type="radio" name="f1" value="b"> B) O que o corpo faz com o fármaco (absorção, distribuição, metabolismo, excreção).</label>
                        <label><input type="radio" name="f1" value="c"> C) A origem e a química dos medicamentos.</label>
                    </div>
                    <div class="question">
                        <p>2. O que a Farmacodinâmica estuda?</p>
                        <label><input type="radio" name="f2" value="a"> A) O que o fármaco faz com o corpo (mecanismo de ação, efeitos).</label>
                        <label><input type="radio" name="f2" value="b"> B) O caminho do fármaco desde a administração até a eliminação.</label>
                        <label><input type="radio" name="f2" value="c"> C) A toxicidade dos fármacos.</label>
                    </div>
                    <div class="question">
                        <p>3. Qual é o principal órgão responsável pelo metabolismo (biotransformação) da maioria dos fármacos?</p>
                        <label><input type="radio" name="f3" value="a"> A) Rins</label>
                        <label><input type="radio" name="f3" value="b"> B) Pulmões</label>
                        <label><input type="radio" name="f3" value="c"> C) Fígado</label>
                    </div>
                    <div class="question">
                        <p>4. Qual é o principal órgão responsável pela excreção da maioria dos fármacos?</p>
                        <label><input type="radio" name="f4" value="a"> A) Fígado</label>
                        <label><input type="radio" name="f4" value="b"> B) Rins</label>
                        <label><input type="radio" name="f4" value="c"> C) Pele</label>
                    </div>
                    <div class="question">
                        <p>5. Um fármaco que se liga a um receptor e o ativa, produzindo uma resposta celular, é chamado de:</p>
                        <label><input type="radio" name="f5" value="a"> A) Agonista</label>
                        <label><input type="radio" name="f5" value="b"> B) Antagonista</label>
                        <label><input type="radio" name="f5" value="c"> C) Enzima</label>
                    </div>
                    <div class="question">
                        <p>6. Um fármaco que se liga a um receptor, mas não o ativa (bloqueando a ação de um agonista), é chamado de:</p>
                        <label><input type="radio" name="f6" value="a"> A) Agonista</label>
                        <label><input type="radio" name="f6" value="b"> B) Antagonista</label>
                        <label><input type="radio" name="f6" value="c"> C) Substrato</label>
                    </div>
                    <div class="question">
                        <p>7. O termo "via de administração" refere-se a:</p>
                        <label><input type="radio" name="f7" value="a"> A) A rapidez com que o fármaco funciona.</label>
                        <label><input type="radio" name="f7" value="b"> B) O local do corpo onde o fármaco atua.</label>
                        <label><input type="radio" name="f7" value="c"> C) O modo como o fármaco é introduzido no corpo (ex: oral, intravenosa, tópica).</label>
                    </div>
                    <div class="question">
                        <p>8. O que significa "meia-vida" (T½) de um fármaco?</p>
                        <label><input type="radio" name="f8" value="a"> A) O tempo necessário para o fármaco fazer efeito.</label>
                        <label><input type="radio" name="f8" value="b"> B) O tempo necessário para que a concentração do fármaco no plasma caia pela metade.</label>
                        <label><input type="radio" name="f8" value="c"> C) A metade da dose máxima permitida.</label>
                    </div>
                    <div class="question">
                        <p>9. Fármacos antipiréticos (ou antitérmicos) são usados para:</p>
                        <label><input type="radio" name="f9" value="a"> A) Combater infecções bacterianas.</label>
                        <label><input type="radio" name="f9" value="b"> B) Reduzir a febre.</label>
                        <label><input type="radio" name="f9" value="c"> C) Aliviar a dor.</label>
                    </div>
                    <div class="question">
                        <p>10. Fármacos analgésicos são usados para:</p>
                        <label><input type="radio" name="f10" value="a"> A) Reduzir a inflamação.</label>
                        <label><input type="radio" name="f10" value="b"> B) Induzir o sono.</label>
                        <label><input type="radio" name="f10" value="c"> C) Aliviar a dor.</label>
                    </div>
                </div>

            </fieldset>

            <button type="submit" id="gerar-pdf">Finalizar e Gerar PDF</button>

        </form>
    </div>

    <script>
        // Espera o documento carregar completamente
        document.addEventListener("DOMContentLoaded", function() {

            const form = document.getElementById("monitoria-form");
            const selectDisciplina = document.getElementById("disciplina-choice");

            // --- MUDANÇA (JAVASCRIPT) ---
            // Encontramos o novo botão que você sugeriu
            const btnMostrarQuestoes = document.getElementById("mostrar-questoes");

            // 1. LÓGICA DE MOSTRAR PERGUNTAS (AGORA NO BOTÃO)
            btnMostrarQuestoes.addEventListener("click", function() {
                
                // Pega o valor ATUAL do dropdown
                const selectedValue = selectDisciplina.value;

                if (!selectedValue) {
                    alert("Por favor, selecione uma disciplina primeiro.");
                    return;
                }

                // 1. Esconde todos os blocos de questões
                document.querySelectorAll(".questions-block").forEach(function(block) {
                    block.style.display = "none";
                });
                
                // 2. Mostra o bloco selecionado
                const blockId = "questoes-" + selectedValue; 
                const blockToShow = document.getElementById(blockId);
                
                if (blockToShow) {
                    blockToShow.style.display = "block";
                }
            });
            

            // 2. LÓGICA DE GERAR O PDF (PERMANECE IGUAL)
            form.addEventListener("submit", function(event) {
                event.preventDefault(); 
                
                if (!selectDisciplina.value) {
                    alert("Por favor, escolha uma disciplina na Parte 3 e clique em 'Carregar Perguntas' antes de finalizar.");
                    selectDisciplina.focus();
                    return;
                }

                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    let y = 15; 
                    const margin = 10;
                    const maxWidth = doc.internal.pageSize.getWidth() - (margin * 2);

                    // Funções Auxiliares
                    function addSection(title) {
                        y += (y === 15) ? 0 : 10; 
                        if (y > 270) { doc.addPage(); y = 20; }
                        doc.setFont("helvetica", "bold");
                        doc.setFontSize(14);
                        doc.text(title, margin, y);
                        y += 8;
                        doc.setFont("helvetica", "normal");
                        doc.setFontSize(12);
                    }
                    function addField(label, value) {
                        if (!value || value.trim() === "") { value = "Não preenchido"; }
                        if (y > 270) { doc.addPage(); y = 20; }
                        doc.setFont("helvetica", "bold");
                        doc.text(label, margin, y);
                        y += 6;
                        doc.setFont("helvetica", "normal");
                        const lines = doc.splitTextToSize(value, maxWidth); 
                        doc.text(lines, margin, y);
                        y += (lines.length * 6) + 4; 
                    }
                    function getRadioValue(name) {
                        const radio = document.querySelector(`input[name="${name}"]:checked`);
                        return radio ? radio.value : "Não respondido";
                    }

                    // Construindo o PDF
                    doc.setFontSize(18);
                    doc.setFont("helvetica", "bold");
                    doc.text("Ficha de Inscrição - Monitoria", doc.internal.pageSize.getWidth() / 2, y, { align: "center" });
                    y += 10;

                    // Parte 1
                    addSection("Parte 1: Informações Gerais");
                    addField("Nome Completo:", document.getElementById("nome").value);
                    addField("Matrícula:", document.getElementById("matricula").value);
                    addField("Disponibilidade:", document.getElementById("disponibilidade").value);
                    addField("Participa de outro projeto?", getRadioValue("outro_projeto"));
                    addField("Inscrito em outra monitoria?", getRadioValue("outra_monitoria"));

                    // Parte 2
                    addSection("Parte 2: Motivação e Interesse");
                    addField("Motivo da escolha:", document.getElementById("motivo").value);
                    addField("Metodologia interessante:", document.getElementById("metodologia").value);
                    addField("Identidade com a disciplina:", getRadioValue("identidade"));

                    // Parte 3
                    const disciplina = selectDisciplina.options[selectDisciplina.selectedIndex].text;
                    addSection(`Parte 3: Prova de Conhecimento (${disciplina})`);
                    
                    const disciplinaSigla = selectDisciplina.value.charAt(0); // 'h', 'm' ou 'f'
                    
                    for (let i = 1; i <= 10; i++) {
                        const questaoLabel = `Questão ${i}:`;
                        let respostaTexto = "Não respondido";
                        const radioInput = document.querySelector(`input[name="${disciplinaSigla + i}"]:checked`);
                        
                        if (radioInput) {
                            respostaTexto = radioInput.parentElement.textContent.trim();
                        }
                        addField(questaoLabel, respostaTexto);
                        y -= 2; 
                    }

                    // Assinatura
                    y += 30; 
                    if (y > 270) { doc.addPage(); y = 20; }
                    doc.setFontSize(12);
                    doc.text("________________________________________", margin, y);
                    y += 7;
                    doc.text("Assinatura do Aluno", margin, y);

                    // Download
                    doc.save(`Ficha_Monitoria_${document.getElementById("nome").value.replace(/ /g, '_')}.pdf`);
                
                } catch (e) {
                    console.error("Erro ao gerar PDF:", e);
                    alert("Ocorreu um erro ao gerar o PDF. Verifique o console para mais detalhes (Pressione F12).");
                }
            });
        });
    </script>

</body>
</html>
